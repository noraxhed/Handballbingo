<!DOCTYPE html>
<!-- 
  ¬© 2025 Nora Hedfeld ‚Äì DAS Handball-Bingo.
  Dieses Projekt ist urheberrechtlich gesch√ºtzt.
  Bitte nicht ohne schriftliche Genehmigung kopieren oder verbreiten.
  Unterst√ºtze das Projekt freiwillig: https://www.paypal.me/Noraxhed
-->
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DAS Handball-Bingo</title>
  <style>
    :root {
      --primary-color: #f9f9f9;
      --secondary-color: #4caf50;
      --text-color: #000000;
      --grid-border-color: #ccc;
      --cell-bg-color: #f4f4f4;
      --cell-active-bg-color: #4caf50;
      --cell-active-text-color: #ffffff;
      --donation-button-bg: #4caf50;
      --donation-button-text: #ffffff;
    }

    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 1rem 5vw;
      background-color: var(--primary-color);
      color: var(--text-color);
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      background-color: #fff;
      border-bottom: 1px solid #ccc;
    }

    #menuToggle {
      font-size: 1.5rem;
      cursor: pointer;
      background: none;
      border: none;
    }

    #navMenu {
      display: none;
      flex-direction: column;
      align-items: center;
      background-color: #fff;
      border-top: 1px solid #ccc;
      padding: 1rem 0;
    }

    #navMenu a {
      margin: 0.5rem;
      text-decoration: none;
      color: var(--text-color);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 5px;
      width: 100vw;
      max-width: 500px;
      margin: 1rem auto;
      min-height: 300px;
    }

    .cell {
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      border: 1px solid var(--grid-border-color);
      background-color: var(--cell-bg-color);
      cursor: pointer;
      font-size: calc(2vmin);
      box-sizing: border-box;
      overflow-wrap: break-word;
      aspect-ratio: 1 / 1;
      padding: 0.5rem;
    }

    .cell.active {
      background-color: var(--cell-active-bg-color);
      color: var(--cell-active-text-color);
    }

    #logo {
      max-width: 150px;
      margin-bottom: 1rem;
      display: none;
    }

    .donate-button {
      display: inline-block;
      margin-top: 0.5rem;
      padding: 0.5rem 1rem;
      background-color: var(--donation-button-bg);
      color: var(--donation-button-text);
      text-decoration: none;
      border-radius: 5px;
    }

    #vereinError {
      color: red;
      margin-top: -0.5rem;
      margin-bottom: 1rem;
      font-size: 0.9rem;
    }

    #infoSection, #contactSection {
      display: none;
      max-width: 500px;
      margin: 2rem auto;
    }
  </style>
</head>
<body>
  <header>
    <h1 id="headline">DAS Handball-Bingo</h1>
    <button id="menuToggle">‚ò∞</button>
  </header>

  <nav id="navMenu">
    <a href="#" onclick="showSection('bingo')">üè† Bingo</a>
    <a href="#" onclick="showSection('info')">‚ÑπÔ∏è √úber das Projekt</a>
    <a href="#" onclick="showSection('contact')">‚úâÔ∏è Kontakt</a>
  </nav>

  <img id="logo" src="" alt="Vereinslogo" />

  <div id="bingoSection">
    <div>
      <p>W√§hle die Liga oder Vereinsbingo:</p>
      <select id="leagueSelect" onchange="handleSelection()">
        <option value="">Bitte w√§hlen ...</option>
        <option value="verein">üéΩ Vereinsbingo</option>
        <option value="1. Bundesliga">1. Bundesliga</option>
        <option value="2. Bundesliga">2. Bundesliga</option>
        <option value="3. Liga">3. Liga</option>
        <option value="Regionalliga">Regionalliga</option>
        <option value="Oberliga">Oberliga</option>
        <option value="Verbandsliga">Verbandsliga</option>
        <option value="Bezirksliga">Bezirksliga</option>
        <option value="Kreisliga">Kreisliga</option>
        <option value="Kreisklasse">Kreisklasse</option>
      </select>
      <div id="vereinInput" style="display:none;">
        <input type="text" id="vereinCodeInput" placeholder="Vereinscode eingeben" oninput="renderClubGrid()" />
        <select id="teamSelect" onchange="renderClubGrid()">
          <option value="herren">Herren</option>
          <option value="damen">Damen</option>
        </select>
        <div id="vereinError"></div>
      </div>
    </div>

    <p>Klick auf die Felder, um sie abzustreichen!</p>
    <div class="grid" id="bingoGrid">Bitte w√§hle eine Liga oder einen Vereinscode aus.</div>

    <div style="margin-top: 2rem;">
      <p style="font-size: 1rem;">üíö Dir gef√§llt DAS Handball-Bingo?<br>Dann unterst√ºtze das Projekt freiwillig und halte es am Leben:</p>
      <a href="https://www.paypal.me/Noraxhed" target="_blank" class="donate-button">
        üí∏ Jetzt unterst√ºtzen
      </a>
    </div>
  </div>

  <div id="infoSection">
    <h2>√úber das Projekt</h2>
    <p>
      DAS Handball-Bingo wurde entwickelt, um Handballspiele mit einem Augenzwinkern zu begleiten ‚Äì ob von der Trib√ºne oder vom Spielfeldrand. Jede Liga und jeder Verein bringt seinen ganz eigenen Stil mit ‚Äì und genau das bildet das Bingo ab. Wenn du Teil des Projekts werden willst, melde dich gern!
    </p>
  </div>

  <div id="contactSection">
    <h2>Kontaktformular</h2>
    <form action="https://formsubmit.co/handballbingo@gmail.com" method="POST">
      <input type="text" name="name" placeholder="Dein Name" required><br>
      <input type="email" name="email" placeholder="Deine E-Mail" required><br>
      <textarea name="message" placeholder="Nachricht..." rows="4" required></textarea><br>
      <button type="submit">Absenden</button>
    </form>
  </div>

  <script>
    const bingoPatterns = [
      [0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11], [12, 13, 14, 15],
      [0, 4, 8, 12], [1, 5, 9, 13], [2, 6, 10, 14], [3, 7, 11, 15],
      [0, 5, 10, 15], [3, 6, 9, 12]
    ];

    document.getElementById('menuToggle').addEventListener('click', () => {
      const menu = document.getElementById('navMenu');
      menu.style.display = menu.style.display === 'flex' ? 'none' : 'flex';
    });

    function showSection(section) {
      document.getElementById('bingoSection').style.display = section === 'bingo' ? 'block' : 'none';
      document.getElementById('infoSection').style.display = section === 'info' ? 'block' : 'none';
      document.getElementById('contactSection').style.display = section === 'contact' ? 'block' : 'none';
      document.getElementById('navMenu').style.display = 'none';
    }

    function createGrid(phrases) {
      const grid = document.getElementById('bingoGrid');
      grid.innerHTML = '';
      if (!phrases || phrases.length < 16) {
        grid.innerHTML = '<p>Keine g√ºltigen Bingo-Phrasen gefunden.</p>';
        return;
      }
      const shuffled = phrases.sort(() => 0.5 - Math.random()).slice(0, 16);
      shuffled.forEach((phrase) => {
        const cell = document.createElement('div');
        cell.className = 'cell';
        cell.textContent = phrase;
        cell.addEventListener('click', () => {
          cell.classList.toggle('active');
          checkBingo();
        });
        grid.appendChild(cell);
      });
    }

    function checkBingo() {
      const cells = Array.from(document.querySelectorAll('.cell'));
      const activeCells = cells.map((cell, i) => cell.classList.contains('active') ? i : null).filter(i => i !== null);
      for (const pattern of bingoPatterns) {
        if (pattern.every(index => activeCells.includes(index))) {
          alert("üéâ Bingo erkannt! Gl√ºckwunsch! üéâ");
          break;
        }
      }
    }

    function renderClubGrid() {
      const code = document.getElementById('vereinCodeInput').value.trim().toUpperCase();
      const team = document.getElementById('teamSelect').value;
      const phrases = clubPhrases?.[code]?.[team];
      const errorDiv = document.getElementById('vereinError');

      if (phrases && phrases.length >= 16) {
        errorDiv.textContent = "";
        const design = clubDesigns[code];
        if (design) {
          document.documentElement.style.setProperty('--text-color', design.farben.text);
          document.documentElement.style.setProperty('--cell-active-bg-color', design.farben.prim√§r);
          document.documentElement.style.setProperty('--donation-button-bg', design.farben.prim√§r);
          document.getElementById('logo').src = design.logo;
          document.getElementById('logo').style.display = 'block';
        }
        document.getElementById('headline').textContent = 'DAS Handball-Bingo ‚Äì ' + code;
        createGrid(phrases);
      } else {
        errorDiv.textContent = "Verein nicht gefunden oder unvollst√§ndige Phrasen.";
        document.getElementById('bingoGrid').innerHTML = "";
        document.getElementById('logo').style.display = 'none';
      }
    }

    function renderStandardGrid() {
      const league = document.getElementById('leagueSelect').value;
      const group = leagueToGroup?.[league];
      const phrases = standardPhrases?.[group];
      if (phrases && phrases.length >= 16) {
        createGrid(phrases);
      } else {
        document.getElementById('bingoGrid').innerHTML = '<p>F√ºr diese Liga wurden keine Bingo-Phrasen gefunden.</p>';
      }
    }

    function handleSelection() {
      const value = document.getElementById('leagueSelect').value;
      document.getElementById('vereinInput').style.display = value === 'verein' ? 'block' : 'none';
      if (value && value !== 'verein') {
        renderStandardGrid();
        document.getElementById('logo').style.display = 'none';
        document.getElementById('headline').textContent = "DAS Handball-Bingo";
      }
    }
  </script>
</body>
</html>
