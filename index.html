<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DAS Handball-Bingo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background-color: #f9f9f9;
    }

    select {
      font-size: 1rem;
      padding: 0.5rem;
      margin-bottom: 1rem;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 5px;
      width: min(90vmin, 500px);
      height: min(90vmin, 500px);
    }

    .cell {
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      border: 1px solid #ccc;
      background-color: #f4f4f4;
      cursor: pointer;
      font-size: calc(2vmin);
      box-sizing: border-box;
      overflow-wrap: break-word;
      aspect-ratio: 1 / 1;
    }

    .cell.active {
      background-color: #4caf50;
      color: white;
    }
  </style>
</head>
<body>
  <h1>DAS Handball-Bingo</h1>
  <p>WÃ¤hle die Liga:</p>
  <select id="leagueSelect">
    <option value="1. Bundesliga">1. Bundesliga</option>
    <option value="2. Bundesliga">2. Bundesliga</option>
    <option value="3. Liga">3. Liga</option>
    <option value="Regionalliga">Regionalliga</option>
    <option value="Oberliga">Oberliga</option>
    <option value="Verbandsliga">Verbandsliga</option>
    <option value="Bezirksliga">Bezirksliga</option>
    <option value="Kreisliga">Kreisliga</option>
    <option value="Kreisklasse">Kreisklasse</option>
  </select>

  <p>Klick auf die Felder, um sie abzustreichen!</p>
  <div class="grid" id="bingoGrid"></div>
  <p class="note">Ein Klick markiert das Feld, ein zweiter hebt es wieder auf. Uneinig? Redet miteinander!</p>

  <script>
    const phrasesByGroup = {
      bundesliga: [
        "Kempa-Tor ðŸ’¥",
        "RÃ¼ckraumhammer ðŸ§¨",
        "Perfekte Abwehrrotation ðŸ”„",
        "Torwart-Parade ðŸ§¤",
        "Taktikbesprechung ðŸ¤”",
        "Strafwurf mit Dreher ðŸŽ¯",
        "Videobeweis ðŸŽ¥",
        "Tor in letzter Sekunde âŒ›",
        "FangesÃ¤nge ðŸŽ¶",
        "Trainer nimmt Auszeit â¸ï¸",
        "Blockmonster ðŸ™…",
        "Handspiel Diskussion ðŸ¤·â€â™‚ï¸",
        "Fliegender Wechsel ðŸ”",
        "TV-Zeitlupe ðŸ“º",
        "7-Meter wird gehalten ðŸ§±",
        "Bonusfeld ðŸŽ‰"
      ],
      regionalliga: [
        "RÃ¼ckraumfackel X",
        "Gelbe Karte wegen Meckern ðŸŸ¨",
        "Heber ðŸŽ¯",
        "Spieler bleibt liegen ðŸš¨",
        "Torwart redet laut ðŸ§¤ðŸ—£ï¸",
        "Tor nach unter 1 Minute â±ï¸",
        "TempogegenstoÃŸ âŒ›",
        "Selber!ðŸ™‹ðŸ»â€â™€ï¸",
        "Kopf hoch âœŠ",
        "Ãœber den Schiri meckern ðŸ™„",
        "Wurf sehr weit Ã¼bers Tor ðŸ¤¦",
        "Trainer schreit rum ðŸ˜¡",
        "Klassischer Kreisanspiel ðŸ’¡",
        "Zu viele Schritte ðŸš¶",
        "Wurf an den Pfosten ðŸ¥´",
        "Bonusfeld ðŸŽ‰"
      ],
      kreisklasse: [
        "Ball fÃ¤llt beim Einwurf runter ðŸ˜¬",
        "Torwart ohne Schuhe ðŸ§¦",
        "Wurf aus dem Stand ðŸªµ",
        "Dreher klappt nicht ðŸ˜µ",
        "Trainer spielt mit ðŸ™‹â€â™‚ï¸",
        "Wechsel zu sechst ðŸ˜…",
        "Alle laufen gleichzeitig ðŸ˜µâ€ðŸ’«",
        "Wurf geht Ã¼ber Hallendach ðŸ—ï¸",
        "TempogegenstoÃŸ stolpert ðŸ« ",
        "Spieler schreien sich an ðŸ˜¤",
        "Pfeife vom Schiri geht nicht ðŸ”‡",
        "Kreis Ã¼bertritt nicht gesehen ðŸ‘€",
        "Wurf mit beiden FÃ¼ÃŸen am Boden ðŸ˜",
        "Fan ruft 'Schiri Brille!' ðŸ¤“",
        "Eins gegen Null wird verworfen ðŸ¤¯",
        "Bonusfeld ðŸŽ‰"
      ]
    };

    const leagueToGroup = {
      "1. Bundesliga": "bundesliga",
      "2. Bundesliga": "bundesliga",
      "3. Liga": "bundesliga",
      "Regionalliga": "regionalliga",
      "Oberliga": "regionalliga",
      "Verbandsliga": "regionalliga",
      "Bezirksliga": "kreisklasse",
      "Kreisliga": "kreisklasse",
      "Kreisklasse": "kreisklasse"
    };

    const grid = document.getElementById('bingoGrid');
    const leagueSelect = document.getElementById('leagueSelect');

    function renderGrid(league) {
      const group = leagueToGroup[league];
      const phrases = phrasesByGroup[group];
      const shuffled = phrases.sort(() => 0.5 - Math.random()).slice(0, 16);

      grid.innerHTML = '';
      shuffled.forEach((phrase) => {
        const cell = document.createElement('div');
        cell.className = 'cell';
        cell.textContent = phrase;
        cell.addEventListener('click', () => {
          cell.classList.toggle('active');
          checkBingo();
        });
        grid.appendChild(cell);
      });
    }

    function checkBingo() {
      const cells = Array.from(document.querySelectorAll('.cell'));
      const activeCells = cells.map((cell, i) => (cell.classList.contains('active') ? i : null)).filter(i => i !== null);

      const bingoPatterns = [
        [0, 1, 2, 3],
        [4, 5, 6, 7],
        [8, 9, 10, 11],
        [12, 13, 14, 15],
        [0, 4, 8, 12],
        [1, 5, 9, 13],
        [2, 6, 10, 14],
        [3, 7, 11, 15],
        [0, 5, 10, 15],
        [3, 6, 9, 12]
      ];

      for (const pattern of bingoPatterns) {
        if (pattern.every(index => activeCells.includes(index))) {
          if (confirm("Bingo erkannt! Bist du dir sicher?")) {
            alert("ðŸŽ‰ Bingo! Herzlichen GlÃ¼ckwunsch! ðŸŽ‰");
          }
          break;
        }
      }
    }

    // Initial load
    renderGrid(leagueSelect.value);

    // Event listener
    leagueSelect.addEventListener('change', (e) => {
      renderGrid(e.target.value);
    });
  </script>
</body>
</html>
